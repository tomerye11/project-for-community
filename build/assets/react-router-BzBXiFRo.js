import{r as o}from"./react-nTLHQtbJ.js";import{i as v,p as L,m as M,j as I,A as j,s as k,a as O}from"./@remix-run-XGCIpbJN.js";/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function x(){return x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x.apply(this,arguments)}const _=o.createContext(null),T=o.createContext(null),N=o.createContext(null),y=o.createContext(null),R=o.createContext({outlet:null,matches:[],isDataRoute:!1}),D=o.createContext(null);function U(){return o.useContext(y)!=null}function w(){return U()||v(!1),o.useContext(y).location}function z(t,e){return A(t,e)}function A(t,e,r,n){U()||v(!1);let{navigator:i}=o.useContext(N),{matches:d}=o.useContext(R),l=d[d.length-1],m=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let g=w(),u;if(e){var a;let s=typeof e=="string"?L(e):e;c==="/"||(a=s.pathname)!=null&&a.startsWith(c)||v(!1),u=s}else u=g;let p=u.pathname||"/",f=p;if(c!=="/"){let s=c.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(s.length).join("/")}let h=M(t,{pathname:f}),E=G(h&&h.map(s=>Object.assign({},s,{params:Object.assign({},m,s.params),pathname:I([c,i.encodeLocation?i.encodeLocation(s.pathname).pathname:s.pathname]),pathnameBase:s.pathnameBase==="/"?c:I([c,i.encodeLocation?i.encodeLocation(s.pathnameBase).pathname:s.pathnameBase])})),d,r,n);return e&&E?o.createElement(y.Provider,{value:{location:x({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:j.Pop}},E):E}function J(){let t=Y(),e=O(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},e),r?o.createElement("pre",{style:i},r):null,null)}const V=o.createElement(J,null);class W extends o.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?o.createElement(R.Provider,{value:this.props.routeContext},o.createElement(D.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function q(t){let{routeContext:e,match:r,children:n}=t,i=o.useContext(_);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),o.createElement(R.Provider,{value:e},n)}function G(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var d;if((d=r)!=null&&d.errors)t=r.matches;else return null}let l=t,m=(i=r)==null?void 0:i.errors;if(m!=null){let u=l.findIndex(a=>a.route.id&&(m==null?void 0:m[a.route.id])!==void 0);u>=0||v(!1),l=l.slice(0,Math.min(l.length,u+1))}let c=!1,g=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<l.length;u++){let a=l[u];if((a.route.HydrateFallback||a.route.hydrateFallbackElement)&&(g=u),a.route.id){let{loaderData:p,errors:f}=r,h=a.route.loader&&p[a.route.id]===void 0&&(!f||f[a.route.id]===void 0);if(a.route.lazy||h){c=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((u,a,p)=>{let f,h=!1,E=null,s=null;r&&(f=m&&a.route.id?m[a.route.id]:void 0,E=a.route.errorElement||V,c&&(g<0&&p===0?(h=!0,s=null):g===p&&(h=!0,s=a.route.hydrateFallbackElement||null)));let b=e.concat(l.slice(0,p+1)),F=()=>{let C;return f?C=E:h?C=s:a.route.Component?C=o.createElement(a.route.Component,null):a.route.element?C=a.route.element:C=u,o.createElement(q,{match:a,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:C})};return r&&(a.route.ErrorBoundary||a.route.errorElement||p===0)?o.createElement(W,{location:r.location,revalidation:r.revalidation,component:E,error:f,children:F(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):F()},null)}var P=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(P||{});function K(t){let e=o.useContext(T);return e||v(!1),e}function Q(t){let e=o.useContext(R);return e||v(!1),e}function X(t){let e=Q(),r=e.matches[e.matches.length-1];return r.route.id||v(!1),r.route.id}function Y(){var t;let e=o.useContext(D),r=K(P.UseRouteError),n=X(P.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Z(t){v(!1)}function S(t){let{basename:e="/",children:r=null,location:n,navigationType:i=j.Pop,navigator:d,static:l=!1,future:m}=t;U()&&v(!1);let c=e.replace(/^\/*/,"/"),g=o.useMemo(()=>({basename:c,navigator:d,static:l,future:x({v7_relativeSplatPath:!1},m)}),[c,m,d,l]);typeof n=="string"&&(n=L(n));let{pathname:u="/",search:a="",hash:p="",state:f=null,key:h="default"}=n,E=o.useMemo(()=>{let s=k(u,c);return s==null?null:{location:{pathname:s,search:a,hash:p,state:f,key:h},navigationType:i}},[c,u,a,p,f,h,i]);return E==null?null:o.createElement(N.Provider,{value:g},o.createElement(y.Provider,{children:r,value:E}))}function ee(t){let{children:e,location:r}=t;return z(B(e),r)}new Promise(()=>{});function B(t,e){e===void 0&&(e=[]);let r=[];return o.Children.forEach(t,(n,i)=>{if(!o.isValidElement(n))return;let d=[...e,i];if(n.type===o.Fragment){r.push.apply(r,B(n.props.children,d));return}n.type!==Z&&v(!1),!n.props.index||!n.props.children||v(!1);let l={id:n.props.id||d.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=B(n.props.children,d)),r.push(l)}),r}export{S as R,ee as a,Z as b};
